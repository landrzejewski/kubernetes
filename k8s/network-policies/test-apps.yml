# kubectl create namespace network-demo
# kubectl config set-context --current --namespace=network-demo
---
# Frontend application
apiVersion: v1
kind: Pod
metadata:
  name: frontend
  namespace: network-demo
  labels:
    app: frontend
    tier: frontend
spec:
  containers:
    - name: nginx
      image: nginx:alpine
      ports:
        - containerPort: 80

---
# Backend application
apiVersion: v1
kind: Pod
metadata:
  name: backend
  namespace: network-demo
  labels:
    app: backend
    tier: backend
spec:
  containers:
    - name: nginx
      image: nginx:alpine
      ports:
        - containerPort: 80

---
# Database
apiVersion: v1
kind: Pod
metadata:
  name: database
  namespace: network-demo
  labels:
    app: database
    tier: database
spec:
  containers:
    - name: nginx
      image: nginx:alpine
      ports:
        - containerPort: 80

---
apiVersion: v1
kind: Pod
metadata:
  name: test-client
  namespace: network-demo
  labels:
    app: test-client
spec:
  containers:
    - name: alpine
      image: alpine
      command: ['sh', '-c', 'apk add curl && sleep 3600']